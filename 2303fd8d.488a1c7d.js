(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{59:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return r})),t.d(a,"metadata",(function(){return p})),t.d(a,"rightToc",(function(){return l})),t.d(a,"default",(function(){return h}));var n=t(2),o=t(6),s=(t(0),t(73)),i=t(77),c=t(78),r={id:"caching",title:"Caching",slug:"/caching"},p={unversionedId:"overview/caching",id:"overview/caching",isDocsHomePage:!1,title:"Caching",description:"Let's suppose that the 'home prices' dataset is not exactly what we are looking for, we can try to search online for 'home prices' and find out that catalog.data.gov contains a more suitable FHFA House Price Indexes dataset. Instead of giving users explicit instructions to download the CSV file, we can instead use pin() to cache this dataset locally:",source:"@site/docs/overview/caching.md",slug:"/caching",permalink:"/pinsjs/docs/caching",editUrl:"https://github.com/pinsjs/pinsjs/edit/master/website/docs/overview/caching.md",version:"current",sidebar:"docs",previous:{title:"Overview",permalink:"/pinsjs/docs/starting"},next:{title:"Discovering",permalink:"/pinsjs/docs/discovering"}},l=[],d={rightToc:l};function h(e){var a=e.components,t=Object(o.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},d,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Let's suppose that the 'home prices' dataset is not exactly what we are looking for, we can try to search online for 'home prices' and find out that ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://catalog.data.gov/"}),"catalog.data.gov")," contains a more suitable ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://catalog.data.gov/dataset/fhfa-house-price-indexes-hpis"}),"FHFA House Price Indexes")," dataset. Instead of giving users explicit instructions to download the CSV file, we can instead use ",Object(s.b)("inlineCode",{parentName:"p"},"pin()")," to cache this dataset locally:"),Object(s.b)(i.a,{groupId:"multilang-plugin",defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"Python",value:"py"}],mdxType:"Tabs"},Object(s.b)(c.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),' pins.pin("http://www.fhfa.gov/datatools/downloads/documents/hpi/hpi_master.csv",\n          { name: "home_price_indexes" })\n'))),Object(s.b)(c.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-py"}),' pins.pin("http://www.fhfa.gov/datatools/downloads/documents/hpi/hpi_master.csv",\n          name = "home_price_indexes")\n')))),Object(s.b)("p",null,"Notice that the pin returns a path to a local CSV file, which you are free to load with your favorite package."),Object(s.b)(i.a,{groupId:"multilang-plugin",defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"Python",value:"py"}],mdxType:"Tabs"},Object(s.b)(c.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),' var data = pins.pin("http://www.fhfa.gov/datatools/downloads/documents/hpi/hpi_master.csv",\n          { name: "home_price_indexes" })\n d3.csvParse(data)\n'))),Object(s.b)(c.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-py"}),' data = pins.pin("http://www.fhfa.gov/datatools/downloads/documents/hpi/hpi_master.csv",\n          name = "home_price_indexes")\n csv.reader(data)\n')))),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"pins.js")," library makes use of HTTP headers like ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"}),"cache-control")," and ",Object(s.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"}),"ETag")," to avoid downloading files when they have not changed or when the cache has not expired."))}h.isMDXComponent=!0}}]);