<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Too Big To Pin | pins</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Too Big To Pin | pins"><meta data-react-helmet="true" name="description" content="An important factor in determining whether or not to use a pin is the size of the data or object in use. Pins, in their simplest form, are objects transmitted through web requests. One way to determine if an object is too big to be a pin is by considering how long a web request to retrieve the pin will take. For example, if an object is 100 MB and the internet connection speed is 25 MB/s, the fastest the pin_get code could return would be 4 seconds. In many cases, it may take longer to return this data. Creating the pin will also take substantially longer because most networks have a slower upload speed than download speed."><meta data-react-helmet="true" property="og:description" content="An important factor in determining whether or not to use a pin is the size of the data or object in use. Pins, in their simplest form, are objects transmitted through web requests. One way to determine if an object is too big to be a pin is by considering how long a web request to retrieve the pin will take. For example, if an object is 100 MB and the internet connection speed is 25 MB/s, the fastest the pin_get code could return would be 4 seconds. In many cases, it may take longer to return this data. Creating the pin will also take substantially longer because most networks have a slower upload speed than download speed."><meta data-react-helmet="true" property="og:url" content="https://mlverse.github.io/docs/advanced/too-big-to-pin"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mlverse.github.io/docs/advanced/too-big-to-pin"><link rel="stylesheet" href="/styles.84e32f5c.css">
<link rel="stylesheet" href="/main.fd8a800d.css">
<link rel="preload" href="/styles.b2d0ee5e.js" as="script">
<link rel="preload" href="/runtime~main.9950f7b6.js" as="script">
<link rel="preload" href="/main.c265c379.js" as="script">
<link rel="preload" href="/1.d99f324c.js" as="script">
<link rel="preload" href="/2.0e375793.js" as="script">
<link rel="preload" href="/45.bcff2e3f.js" as="script">
<link rel="preload" href="/47.645a7fd0.js" as="script">
<link rel="preload" href="/935f2afb.90ef2f14.js" as="script">
<link rel="preload" href="/17896441.1491d4d2.js" as="script">
<link rel="preload" href="/20dde89a.978a6956.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo.png" alt="Pins Logo"><strong class="navbar__title">pins</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mlverse/pins" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-link"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/images/logo.png" alt="Pins Logo"><strong class="navbar__title">pins</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/mlverse/pins" target="_blank" rel="noopener noreferrer" class="menu__link github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/using-in-rstudio">Using Pins in RStudio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Boards</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/understanding-boards">Understanding Boards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/azure">Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/digital-ocean">Digital Ocean</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/github">GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/google-cloud">Google Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/kaggle">Kaggle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/rsconnect">RStudio Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/boards/website">Website</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/versioning">Versioning</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/advanced/too-big-to-pin">Too Big To Pin</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extensions/extending-pins">Extending Pins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/extensions/extending-boards">Extending Boards</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-cases/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-cases/reuse-tidy-datasets">Reuse Tidy Datasets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-cases/automate-dataset-updates">Automate Dataset Updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-cases/create-data-pipelines">Create Data Pipelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-cases/update-plumber-and-shiny-apps">Update Plumber and Shiny Apps</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/reference">Reference</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Too Big To Pin</h1></header><div class="markdown"><p>An important factor in determining whether or not to use a pin is the size of the data or object in use. Pins, in their simplest form, are objects transmitted through web requests. One way to determine if an object is too big to be a pin is by considering how long a web request to retrieve the pin will take. For example, if an object is 100 MB and the internet connection speed is 25 MB/s, the <em>fastest</em> the <code>pin_get</code> code could return would be 4 seconds. In many cases, it may take longer to return this data. Creating the pin will also take substantially longer because most networks have a slower upload speed than download speed.</p><p>You can see an object&#x27;s size in R using code like:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-r codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">format(object.size(data_frame), units = &quot;MB&quot;)</span></div></div></div></div></div><p><em>As a general rule of thumb, you should not use pins for objects that are larger than 500 MB</em>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="alternatives-to-pins-for-large-objects"></a>Alternatives to pins for large objects<a aria-hidden="true" tabindex="-1" class="hash-link" href="#alternatives-to-pins-for-large-objects" title="Direct link to heading">#</a></h2><p>If your object is too big to pin there are a few options:</p><ol><li><p>You could write your data back to a database. It is quite common for data science teams to create intermediate &quot;feature stores&quot; which are simply tables in a database containing processed data. The odbc package includes a <code>dbWriteTable</code> function to help in these cases.</p></li><li><p>If you are using Spark as a processing engine, you can write your processed data using the <a href="https://spark.rstudio.com/reference/" target="_blank" rel="noopener noreferrer">sparklyr package</a> which has numerous <code>spark_write_</code> functions. These functions can write to a file system (<code>file://</code>), Hadoop (<code>hdfs://</code>), or Amazon S3 (<code>s3a://</code>). A benefit of using the <code>spark_write_</code> functions is that the write operation will typically happen in parallel. Some formats, such as parquet, support writing data by partition which can speed up subsequent analysis that begin by reading in the partitioned data.</p></li><li><p>If you are working with larger data but are not using Spark, an efficient and flexible read/write option is provided in the <a href="https://arrow.apache.org/docs/r/index.html" target="_blank" rel="noopener noreferrer">arrow</a> package. This <a href="https://arrow.apache.org/docs/r/articles/dataset.html" target="_blank" rel="noopener noreferrer">vignette</a> contains relevant details. The package supports parquet, csv, and other common data formats and enables portioned writing and dplyr-based querying.</p></li></ol><p>Pins are incredibly flexible and convenient. They are easy to consume, often through a single URL, and pins typically have straightforward access controls. However, pins are not a substitute for a data engineering pipeline. It is a good idea to check your object size before using a pin.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mlverse/pins/edit/master/website/docs/advanced/too-big-to-pin.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/advanced/versioning"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Versioning</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/extensions/extending-pins"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Extending Pins Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#alternatives-to-pins-for-large-objects" class="table-of-contents__link">Alternatives to pins for large objects</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Â© 2020. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.b2d0ee5e.js"></script>
<script src="/runtime~main.9950f7b6.js"></script>
<script src="/main.c265c379.js"></script>
<script src="/1.d99f324c.js"></script>
<script src="/2.0e375793.js"></script>
<script src="/45.bcff2e3f.js"></script>
<script src="/47.645a7fd0.js"></script>
<script src="/935f2afb.90ef2f14.js"></script>
<script src="/17896441.1491d4d2.js"></script>
<script src="/20dde89a.978a6956.js"></script>
</body>
</html>