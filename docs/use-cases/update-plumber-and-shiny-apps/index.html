<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Update Plumber and Shiny Apps | pins</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Update Plumber and Shiny Apps | pins"><meta data-react-helmet="true" name="description" content="Once you create data pipelines, you can consider reusing the resources they produce in Shiny or Plumber applications. This can be useful to componentize your application and avoid redeploying or restarting your application."><meta data-react-helmet="true" property="og:description" content="Once you create data pipelines, you can consider reusing the resources they produce in Shiny or Plumber applications. This can be useful to componentize your application and avoid redeploying or restarting your application."><meta data-react-helmet="true" property="og:url" content="https://mlverse.github.io/pins/docs/use-cases/update-plumber-and-shiny-apps"><link data-react-helmet="true" rel="shortcut icon" href="/pins/images/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mlverse.github.io/pins/docs/use-cases/update-plumber-and-shiny-apps"><link rel="stylesheet" href="/pins/styles.84e32f5c.css">
<link rel="stylesheet" href="/pins/main.fd8a800d.css">
<link rel="preload" href="/pins/styles.4469c2d1.js" as="script">
<link rel="preload" href="/pins/runtime~main.95a2e3fb.js" as="script">
<link rel="preload" href="/pins/main.951950ef.js" as="script">
<link rel="preload" href="/pins/1.d99f324c.js" as="script">
<link rel="preload" href="/pins/2.0e375793.js" as="script">
<link rel="preload" href="/pins/45.09fb534c.js" as="script">
<link rel="preload" href="/pins/47.645a7fd0.js" as="script">
<link rel="preload" href="/pins/935f2afb.6855e53b.js" as="script">
<link rel="preload" href="/pins/17896441.1491d4d2.js" as="script">
<link rel="preload" href="/pins/c0bd806d.5d9fd701.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/pins/"><img class="navbar__logo" src="/pins/images/logo.png" alt="Pins Logo"><strong class="navbar__title">pins</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pins/docs">Docs</a><a class="navbar__item navbar__link" href="/pins/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mlverse/pins" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-link"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/pins/"><img class="navbar__logo" src="/pins/images/logo.png" alt="Pins Logo"><strong class="navbar__title">pins</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/pins/docs">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/pins/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/mlverse/pins" target="_blank" rel="noopener noreferrer" class="menu__link github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/overview/using-in-rstudio">Using Pins in RStudio</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Boards</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/understanding-boards">Understanding Boards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/azure">Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/digital-ocean">Digital Ocean</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/github">GitHub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/google-cloud">Google Cloud</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/kaggle">Kaggle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/rsconnect">RStudio Connect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/boards/website">Website</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/advanced/versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/advanced/too-big-to-pin">Too Big To Pin</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/extensions/extending-pins">Extending Pins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pins/docs/extensions/extending-boards">Extending Boards</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pins/docs/use-cases/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pins/docs/use-cases/reuse-tidy-datasets">Reuse Tidy Datasets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pins/docs/use-cases/automate-dataset-updates">Automate Dataset Updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pins/docs/use-cases/create-data-pipelines">Create Data Pipelines</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/pins/docs/use-cases/update-plumber-and-shiny-apps">Update Plumber and Shiny Apps</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/pins/docs/reference">Reference</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Update Plumber and Shiny Apps</h1></header><div class="markdown"><p>Once you <a href="/pins/">create data pipelines</a>, you can consider reusing the resources they produce in <a href="http://shiny.rstudio.com" target="_blank" rel="noopener noreferrer">Shiny</a> or <a href="https://www.rplumber.io/" target="_blank" rel="noopener noreferrer">Plumber</a> applications. This can be useful to componentize your application and avoid redeploying or restarting your application.</p><p>When using Plumber, you can simply use <code>pin_get()</code> since this function is smart-enough to first check for updates before the resource is retrieved When using Shiny, you can use <code>pin_reactive()</code> which automatically transforms the pin&#x27;s resource into a reactive to use from your application.</p><p>We can improve the pipeline from the <a href="/pins/">Create Data Pipelines</a> use-case by properly generating a web application to display the auto-generated news.</p><p>A Shiny application that reuses the <code>news-generated</code> pin looks as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-r codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">library(shiny)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">library(dplyr)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">library(pins)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">board_register(&quot;rsconnect&quot;, server = &quot;https://beta.rstudioconnect.com&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ui &lt;- fluidPage(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    tags$head(tags$style(HTML(&quot;pre { white-space: pre-wrap; }&quot;))),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    titlePanel(&quot;News from Headlines&quot;),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fluidPage(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fluidRow(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            selectInput(&quot;newsHeadline&quot;, &quot;Headline&quot;, c(&quot;loading...&quot;), size = 10, selectize = FALSE, width = &quot;100%&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fluidRow(verbatimTextOutput(&quot;newsContent&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">server &lt;- function(input, output, session) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    news &lt;- pin_reactive(&quot;news-generated&quot;, board = &quot;rsconnect&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    observe({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        choices &lt;- pull(news(), title)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        updateSelectInput(session = session, inputId = &quot;newsHeadline&quot;, choices = choices, selected = choices[1])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    output$newsContent &lt;- renderText ({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filter(news(), title == input$newsHeadline) %&gt;%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            pull(generated) %&gt;%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            paste(input$newsHeadline, .) %&gt;%</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            gsub(&quot;&lt;\\|endoftext\\|&gt;.*&quot;, &quot;&quot;, .)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">shinyApp(ui = ui, server = server)</span></div></div></div></div></div><p>You can then run this application locally, and even publish it to <a href="https://rstudio.com/products/shiny/shiny-server/" target="_blank" rel="noopener noreferrer">Shiny Server</a> or <a href="https://rstudio.com/products/connect/" target="_blank" rel="noopener noreferrer">RStudio Connect</a>. Notice that the news will update as soon as the <code>new-generated</code> pin is updated by the data pipeline previously defined. You can take a look at this application by visiting <a href="https://beta.rstudioconnect.com/connect/#/apps/6578/access" target="_blank" rel="noopener noreferrer">beta.rstudioconnect.com/connect/#/apps/6578/access</a>:</p><p><a href="https://beta.rstudioconnect.com/connect/#/apps/6578/access" target="_blank" rel="noopener noreferrer"><img src="/pins/assets/images/update-shiny-rsconnect-d943b51a6fa277e6e13653f092cc023a.png"></a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mlverse/pins/edit/master/website/docs/use-cases/update-plumber-and-shiny-apps.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pins/docs/use-cases/create-data-pipelines"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Create Data Pipelines</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pins/docs/reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reference Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Â© 2020. Built with Docusaurus.</div></div></div></footer></div>
<script src="/pins/styles.4469c2d1.js"></script>
<script src="/pins/runtime~main.95a2e3fb.js"></script>
<script src="/pins/main.951950ef.js"></script>
<script src="/pins/1.d99f324c.js"></script>
<script src="/pins/2.0e375793.js"></script>
<script src="/pins/45.09fb534c.js"></script>
<script src="/pins/47.645a7fd0.js"></script>
<script src="/pins/935f2afb.6855e53b.js"></script>
<script src="/pins/17896441.1491d4d2.js"></script>
<script src="/pins/c0bd806d.5d9fd701.js"></script>
</body>
</html>